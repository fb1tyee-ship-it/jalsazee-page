<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Video Player</title>
<style>
body{margin:0;font-family:Arial,sans-serif;background:#f7f7f7;display:flex;flex-direction:column;align-items:center}
header{background:#ff0000;color:white;padding:12px;text-align:center;font-size:20px;width:100%;position:sticky;top:0;display:flex;align-items:center;justify-content:center}
header button{position:absolute;left:10px;background:white;color:#ff0000;border:none;padding:6px 12px;font-size:14px;border-radius:6px;cursor:pointer;font-weight:bold}
header button:hover{background:#ffe5e5}
.player-container{display:flex;flex-direction:column;max-width:600px;width:100%;padding:10px}
video{width:100%;border-radius:10px}
#video-title{font-size:14px;margin:5px 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
#video-desc{font-size:12px;color:#555;margin:2px 0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
#ad-overlay{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);color:white;justify-content:center;align-items:center;z-index:9999;flex-direction:column}
#ad-overlay p{font-size:18px}
</style>
</head>
<body>
<header>
  <button onclick="goBack()">⬅ Back</button>
  <span>Shajazada Bhai Videos</span>
</header>
<div class="player-container">
  <video id="video-player" controls autoplay></video>
  <h3 id="video-title" title=""></h3>
  <p id="video-desc" title=""></p>
</div>

<div id="ad-overlay"></div>

<script>
function goBack(){ window.location.href="index.html"; }

window.onload = function(){
    const params = new URLSearchParams(window.location.search);
    const url = params.get('url');
    const title = params.get('title');
    const desc = params.get('desc');

    if(url){
        const player = document.getElementById('video-player');
        player.src = decodeURIComponent(url);

        const titleEl = document.getElementById('video-title');
        const descEl = document.getElementById('video-desc');
        const decodedTitle = decodeURIComponent(title || '');
        const decodedDesc = decodeURIComponent(desc || '');
        titleEl.textContent = decodedTitle;
        descEl.textContent = decodedDesc;
        titleEl.title = decodedTitle;
        descEl.title = decodedDesc;
        player.load(); 
        const playPromise = player.play();
        if(playPromise !== undefined){ playPromise.catch(e=>console.log('Autoplay blocked',e)); }

        // ব্যাকগ্রাউন্ডে অ্যাড লোড
        const ads = ["https://www.profitableratecpm.com/mw7ztdgnmi?key=02fe040d5b278090e77e6f3d36b9dcda", "https://www.profitableratecpm.com/mvgr3vcec?key=1ae7e70b622ff6e66c421c3b010fee11", "https://www.profitableratecpm.com/u3bpd959ds?key=17a24dd5727d44c20893ba3e89cff40a", "https://www.profitableratecpm.com/z513xcxn?key=2716991f6639174f0dbf9f9bc382eea0", "https://www.profitableratecpm.com/dz7akcqr8?key=4a57b656f4105bcdd6f76499ce967f2a", "https://www.profitableratecpm.com/kkrnkev1bj?key=aa678f2b1f704590b292aea258a8db75", "https://www.profitableratecpm.com/fmx6g979fh?key=c2c833ab570aa35dce68fd99904f4f3f", "https://www.profitableratecpm.com/nf9jh4dk?key=652241112e3a2bb3113616e06d6e6536", "https://www.profitableratecpm.com/mtg1wzskpv?key=2d102a25de9531a4a26d3a72582b0eeb", "https://www.profitableratecpm.com/rffd4r7giv?key=0124a8cb858c0a4580a84fd6598500d1", "https://www.profitableratecpm.com/mc25ir2059?key=c62be8f56e59dcfbb2cf7f4622d16ff4", "https://www.profitableratecpm.com/kh9qjvbf46?key=1e8d2955dba8bf2f0135666b2dcefa7d", "https://www.profitableratecpm.com/zhhpg2wz?key=cda5e4d770a778a1d7a23650ecb60b93", "https://www.profitableratecpm.com/n28xt53jen?key=c29ab1c126677a64770bd756f4516a8f", "https://www.profitableratecpm.com/xg0ni3ct?key=a9c6fd3135c9885f74c146c8f1ca005e", "https://www.profitableratecpm.com/pznr2znaag?key=0800ade2292afe2ce7793624e6ab47f2"];
        const preloadedAds = ads.map(ad=>{
            const iframe = document.createElement('iframe');
            iframe.src = ad;
            iframe.style.display='none';
            document.body.appendChild(iframe);
            return iframe;
        });

        // 10 সেকেন্ড পর overlay-এ প্রথম অ্যাড দেখানো
        setTimeout(()=>{
            const overlay = document.getElementById('ad-overlay');
            overlay.style.display='flex';
            overlay.innerHTML=`<p>Advertisement</p>`;
            // iframe overlay হিসেবে attach করতে চাইলে uncomment করা যেতে পারে
            // overlay.appendChild(preloadedAds[0]);
        }, 10000);
    }
};
</script>
</body>
</html>
